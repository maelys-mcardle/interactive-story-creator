<div class="page-header">
    <h1 id="tutorial-introduction">
        How to Write Stories
        <small>A Brief Tutorial</small>
    </h1>
</div>

<p>
    This tutorial will help guide you on how to write code to make 
    interactive fiction.
</p>

<p>
    The stories are written using 
    <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>,
    a simple text formatting language. With the story creator, this
    formatting also conveys extra meaning which is used in generating
    the interactive fiction website. 
</p>

<p>
    Here's what a snippet of story code looks like:
</p>

<pre><code class="markdown">
# Monday

## Morning: Bedroom

You wake up to the sound of an alarm. You look to your clock and 
see that it's 8:00 AM.

*8:00AM!!* 

Your shift started at 7:00! You must have forgotten to
set the time correctly again.

[snooze: Forget it. You set the alarm to snooze.](next)
[get up: Get up and rush to work.](next)

## Morning: Work

Your boss looks at you.

### Chose "snooze" on last

"You're' three hours late!"

### Chose "get up" on last

"You're an hour and a half late!'"

###

You look to your watch. So it was.

[Decide something else](last)

</code></pre>

<div class="page-header">
    <h1 id="tutorial-structure">
        Story Structure
    </h1>
</div>

<p>
    The stories are structured into chapters and then pages, where
    a day in the story (as in Monday, Tuesday, etc.) makes up the
    chapters, and the individual pages are each identified by a 
    time &amp; location. Many pages can share the same time &amp;
    location.
</p>
<p>
    Each page is composed of text and an optional set of choices. 
    Choices act as links, bringing readers to another page. Different
    choices can bring the reader to different pages. What choice
    the reader selected is also tracked.
</p>
<p>
    Tracking the reader's choice brings us to a feature for this
    story creator, which is that paragraphs of text on a given page
    can be made to appear only if the reader selected for a given 
    choice. More on this later.
</p>

<h2 id="tutorial-chapters">
    Chapters
</h2>

<p>
    A story is split up into multiple chapters. A single <code>#</code> sign 
    is used to signal that what follows is a chapter title, and follows the 
    format <code># Chapter Name</code>. Chapter names must be unique (there 
    can't be two chapters called 'Tuesdays' for example.) For instance:
</p>

<pre><code class="markdown">
# Monday

...

# Tuesday

...

</code></pre>

<p>
    ...or:
</p>

<pre><code class="markdown">
# Ottawa

...

# Orbiting Alien Ship

...

</code></pre>

<h2 id="tutorial-pages">
    Pages
</h2>

<p>
    Pages are made up of multiple parts: the title, the text that makes up
    the content, and one or more links that act as choices.
</p>

<h3 id="tutorial-title">
    Title (Time &amp; Location)
</h3>

<p>
    Within each chapter are one or more pages. These are each identified
    by a location, or a time &amp; location. Multiple pages can share the same 
    time &amp; location. A double <code>##</code> signals that what follows
    is the location or the time &amp; location, and follows the format 
    <code>## Location</code> or <code>## Time: Location</code>. For instance:
</p>

<pre><code class="markdown">
# Monday

## Home

...

## School

...

## School

...

# Tuesday

...

</code></pre>

<p>
    ...or:
</p>

<pre><code class="markdown">
# Monday

## Morning: Home

...

## Afternoon: School

...

## Afternoon: School

...

## Tuesday

...

</code></pre>

<h3 id="tutorial-text">
    Text
</h3>

<p>
    Within each page can be paragraphs of text. Multiple paragraphs are
    separated by an empty line. For instance:
</p>

<pre><code class="markdown">
# Monday

## Morning: Bedroom

This sentence is part of the first
paragraph of text.

This sentence is part of the second
paragraph of text.

This sentence is part of the third
paragraph of text.

</code></pre>

<p>
    The text in the paragraphs can also be formatted. See the section on
    <a href="#tutorial-format-text">How to Format Text</a> for more details.
</p>

<h3 id="tutorial-choices">
    Links (Choices)
</h3>

<p>
    In addition to text, each page can provide one or more choices
    to determine what happens next in the story. These show up as 
    links to be clicked on that appear beneath the paragraphs of text.
</p>

<p>
    Links consist of three parts, two of which are optional. The first is
    what the text for the link will be. That's the only part that's mandatory.
    The second is which page the reader will be brought to when the link is
    clicked. The third is an identifier, which is optional, which is used to 
    keep track of what choices were picked down the line.
</p>
<p>
    The format is:
</p>

<pre><code class="markdown">
[link text]()
[link text](page)
[identifier: link text](page)

</code></pre>

<p>
    So that actual links can look like the following:
</p>

<pre><code class="markdown">
[eat breakfast: Eat breakfast before school](Kitchen)
[skip breakfast: Skip breakfast and go to school](School)

</code></pre>

<p>
    Which would produce links that look like the following:
</p>

<div class="well">
    <div class="list-group">
        <a href="#" class="list-group-item">Eat breakfast before school</a>
        <a href="#" class="list-group-item">Skip breakfast and go to school</a>
    </div>
</div>

<p>
    See the section on <a href="tutorial-links">How to Make Links</a> 
    for more details.
</p>

<h3 id="tutorial-optional-paragraphs">
    Optional Paragraphs
</h3>

<p>
    Some paragraphs of text can be made to appear only when a specific
    choice was made on an earlier page. These special paragraphs are preceded
    by a line that mentions what page the choice was made on, and what link
    was selected. These are of the format <code>### Chose "identifier" on
    <em>page</em></code>. An empty <code>###</code> marks the end of this
    optional text. For instance:
</p>

<pre><code class="markdown">
# Tuesday

## Morning: Bathroom

You look at yourself in the mirror.

[brush teeth: Brush your teeth](next)
[Skip brushing your teeth](next)

## Afternoon: Dentist Office

You sit down in the waiting room.

### Chose "brush teeth" on Tuesday: Morning: Bathroom

You pass your tongue over your teeth. They feel clean.

###

You look around and pick up a magazine.

</code></pre>

<p>
    In the previous example, the sentences "<em>You pass your tongue over your 
    teeth. They feel clean.</em>" would only appear for readers that had 
    clicked on the choice to brush their teeth.
</p>

<p>
    Whene multiple choices are together, the terminating <code>###</code>
    can be skipped for all but the last choice. For instance:
</p>

<pre><code class="markdown">
# Saturday

## Day: Living Room

### Chose "red" on Friday : Afternoon : Paint Store

You paint the wall red.

### Chose "blue" on Friday : Afternoon : Paint Store

You paint the wall blue.

###

</code></pre>

<div class="page-header">
    <h1 id="tutorial-links">
        How To Make Links
    </h1>
</div>

<p>
    Links are used to bring readers from one page to another. They're presented
    as one or more choices for the user to click on. These choices can be
    remembered, and different content on a given page can be shown accordingly
    (see <a href="#tutorial-optional-paragraphs">Optional Paragraphs</a>.)
</p>

<h3 id="tutorial-basic-links">
    Basic Links
</h3>

<p>
    At their most basic, these links are made up of three parts, but only
    one is mandatory.
</p>

<p>
    The first two parts is the text that appears in the link, and the
    page that the reader is brought to when the link is clicked on. 
    Links follow the format <code>[Text to appear in the link](Page 
    to bring the reader to)</code> where the text for the link is 
    between the <code>[]</code> and the page between the <code>()</code>. 
    For instance, the following code:
</p>

<pre><code class="markdown">
[Go to the next page](next)

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <div class="list-group">
        <a href="#" class="list-group-item">Go to the next page</a>
    </div>
</div>

<p>
    That said, specifying a page is optional. When no target page is
    indicated, the link becomes unclickable. And so this code:
</p>

<pre><code class="markdown">
[You cannot click on this]()

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <div class="list-group">
        <a href="#" class="list-group-item disabled">You cannot click on this</a>
    </div>
</div>

<h3 id="tutorial-identifiers">
    Identifiers
</h3>

<p>
    The third part of a link are identifiers, which are keywords used to
    identify what link was clicked when presenting 
    <a href="#tutorial-optional-paragraphs">Optional Paragraphs</a>. These 
    do not show up in the text of the link. 
</p>

<p>
    The format of links with identifiers is <code>[identifier: Text to appear 
    in the link](Page to bring the reader to)</code> where the identifier is 
    before the <code>:</code> inside the <code>[]</code>. For example:
</p>

<pre><code class="markdown">
[pizza: I decide to eat pizza](Night: Pizza Parlour)
[shawarma: I decide to eat shawarma](Night: Lebanese Joint)

</code></pre>

<p>
    Which would produce the following:
</p>

<div class="well">
    <div class="list-group">
        <a href="#" class="list-group-item">I decide to eat pizza</a>
        <a href="#" class="list-group-item">I decide to eat shawarma</a>
    </div>
</div>

<h3 id="tutorial-last-next">
    Go Back/Forward Pages
</h3>

<p>
    The target page can be specified by putting down <code>next</code> or 
    <code>last</code>, to indicate the next or last page in the story code.
    Remember that each page is identified by a time &amp; location. For 
    example:
</p>

<pre><code class="markdown">
[Go to the previous page](last)
[Go to the next page](next)

</code></pre>

<p>
    Adding a <code>#</code> followed by a number indicates that the desired
    page is that many previous or following. For instance:
</p>

<pre><code class="markdown">
[Go two pages back](last #2)
[Go three pages down](next #3)

</code></pre>

<h3 id="tutorial-using-titles">
    Using Chapter Titles, Page Time, and/or Location
</h3>

<p>
    Chapter names can be used to identify which page to bring the 
    reader to when clicked. When clicked, the reader will be brought to 
    the first page in that chapter:
</p>

<pre><code class="markdown">
# Monday

## Morning: Bedroom

You wake up feeling exhausted.

[Sleep all day](Tuesday)

# Tuesday

## Morning: Bedroom

...

</code></pre>

<p>
    If it's in the same chapter as the current page, the time can 
    be used to identify which page to bring the reader to when clicked. 
    When clicked, the reader will be brought to the page with the given time:
</p>

<pre><code class="markdown">
# Monday

## Morning: Bedroom

You wake up feeling exhausted.

[Sleep all day](Afternoon)

## Afternoon: Bedroom

You open your eyes and turn to the alarm clock.

It's 3:00 PM.

</code></pre>

<p>
    If it's in the same chapter as the current page, the location can also
    be used to identify which page to bring the reader to when clicked. 
    When clicked, the reader will be brought to the page with the given 
    location:
</p>

<pre><code class="markdown">
# Monday

## Afternoon: Downtown

You walk around downtown.

[Go to the cinema](Cinema)

## Afternoon: Cinema

You watch a kids movie. You're the only one crying
at the sad parts in the theater.

</code></pre>

<p>
    If it's in the same chapter, the time &amp; location can be used
    together to identify which page to bring the reader to when clicked. 
    When clicked, the reader will be brought to the page with the given time
    and location:
</p>

<pre><code class="markdown">
# Monday

## Night: Bedroom

You fall asleep.

[Dream about unicorns](Night: Unicorn Land)
[Dream about corgis](Night: Puppy Station)

## Night: Unicorn Land

You open your eyes to find a unicorn standing before you.

## Night: Puppy station

You see an army of corgis before you. One shouts out:

> Captain Woof!

</code></pre>

<p>
    If it's in a different chapter, the chapter title, along with the 
    time &amp; location on the page can be used together to identify which 
    page to bring the reader to when clicked. A <code>:</code> is used to 
    differentiate between the chapter from the time and location. When clicked, 
    the reader will be brought to the page with the given time and location:
</p>

<pre><code class="markdown">
# Monday

## Night: Bedroom

You fall asleep.

[Dream about unicorns](Tuesday: Early Hours: Unicorn Land)
[Dream about corgis](Tuesday: Early Hours: Puppy Station)

# Tuesday 

## Early Hours: Unicorn Land

You open your eyes to find a unicorn standing before you.

## Early Hours: Puppy station

You see an army of corgis before you. One shouts out:

> Captain Woof!

</code></pre>

<p>
    When it's in a different chapter, it isn't mandatory to specify both
    time &amp; location. It can just be one or the other:
</p>

<pre><code class="markdown">
# Paris

## Monday Evening: Airport

You decide to buy a plane ticket.

[Go to London](London: Airport)
[Go to New York](New York: Tuesday Morning)

# London

## Monday Night: Airport

The airplane lands at Heathrow. It's dark out.

# New York

## Tuesday Morning: Airport

The airplane lands at JFK. It's sunny out.

</code></pre>

<h3 id="tutorial-nth-match">
    Going to the n<sup>th</sup> match
</h3>

<p>
    If multiple pages share the same time and/or location, the use of the 
    <code>#</code> followed by a number is used to state that the 
    <em>n</em><sup>th</sup> match is desired. In other words, adding a 
    <code>#2</code> to a link would indicate that the second page with the
    given time and/or location.
</p>


<pre><code class="markdown">
# Friday

## Morning: School

You arrive at the school.

[Go to the first class](Day: School)
[Skip the first class](Day: School #2)

## Day: School

You're in math class, the first class of the day.

[Go to the next class](next)

## Day: School

You're in English, the second class of the day.

[Time travel back to the morning](Morning)

</code></pre>

<p>
    This also works for next/last links:
</p>

<pre><code class="markdown">
# Friday

## Morning: School

You arrive at the school.

[Go to the first class](next)
[Skip the first class](next #2)

## Day: School

You're in math class, the first class of the day.

[Go to the next class](next)

## Day: School

You're in English, the second class of the day.

[Time travel back to the morning](last #2)

</code></pre>
<div class="page-header">
    <h1 id="tutorial-format-text">
        How to Format Text
    </h1>
</div>

<p>
    The text in the pages can be formatted using Markdown. The formatting
    only applies to the paragraphs of text, and not to the day, time &amp;
    location, or links.
</p>

<h2 id="tutorial-simple-formatting">
    Simple Formatting
</h2>

<p>
    Text can be made <em>italicized</em> by enclosing them inside a pair of
    <code>*</code> symbols:
</p>

<pre><code class="markdown">
This text *is going to be italicized*

</code></pre>

<p>
    Text can be made <strong>bold</strong> by enclosing them inside a pair of
    <code>**</code> symbols:
</p>

<pre><code class="markdown">
This text **is going to be bold**

</code></pre>

<p>
    Text can be <s>struck through</s> by enclosing them inside a pair of
    <code>~~</code> symbols:
</p>

<pre><code class="markdown">
This text ~~will have a line run through it~~

</code></pre>

<h2 id="tutorial-quotes">
    Quotes
</h2>

<p>
    Quotes can also be inserted into the page content. Starting the line
    with a <code>&gt;</code> indicates that what follows is a quote. 
    For instance, the following code:
</p>


<pre><code class="markdown">
> This is a quote.

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <blockquote>
        This is a quote.
    </blockquote>
</div>

<h2 id="tutorial-lists">
    Lists
</h2>

<p>
    To make unordered lists, having lines start with a single <code>-</code>
    or <code>*</code> will identify that it's part of a list.
    For instance, the following code:
</p>

<pre><code class="markdown">
* This is a list item
* This is another list item
* This is a third list item

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <ul>
        <li>This is a list item</li>
        <li>This is another list item</li>
        <li>This is a third list item</li>
    </ul>
</div>

<p>
    To make numbered lists, having lines start with a number and a 
    period like <code>1.</code> will identify that it's part of a list.
    For instance, the following code:
</p>

<pre><code class="markdown">
1. This is a list item
2. This is another list item
3. This is a third list item

</code></pre>

<p>
    Would yield the following:
</p>

<div class="well">
    <ol>
        <li>This is a list item</li>
        <li>This is another list item</li>
        <li>This is a third list item</li>
    </ol>
</div>

<p>
    Lists can also be nested by preceding the <code>*</code> or <code>-</code>
    with one or more spaces. For instance, the following code:
</p>

<pre><code class="markdown">
* Food
  * Pizza
  * Poutine
* Drinks
  * Ceasars
  * Water

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <ul>
        <li>
            Food
            <ul>
                <li>Pizza</li>
                <li>Poutine</li>
            </ul>
        </li>
        <li>
            Drinks
            <ul>
                <li>Ceasars</li>
                <li>Water</li>
            </ul>
        </li>
    </ul>
</div>

<h2 id="tutorial-images">
    Images
</h2>

<p>
    Graphics can also be included in a story. The 
    <code>![description](image url)</code> syntax is used to load them in.
    Images are always placed on the right side of the text, and are limited
    in width as to not take up the whole content. As an example:
</p>

<pre><code class="markdown">
![Image of a pencil](pen.svg)

Pens are wonderful instruments.

I think they're fantastic.

Pens, pens, pens.
</code></pre>

<p>
    Would produce the following:
</p>

<div class="well clearfix">
    
    <img alt="Image of a pencil" src="pen.svg">
    
    <p>
        Pens are wonderful instruments.
    </p>
    
    <p>
        I think they're fantastic.
    </p>
    
    <p>
        Pens, pens, pens.
    </p>
    
</div>

<h2 id="tutorial-horizontal-rule">
    Horizontal Rule
</h2>

<p>
    Horizontal lines can also be inserted into the page to visually break 
    content. Starting the line with a <code>- - -</code> indicates that this is
    a horizontal rule. For instance, the following code:
</p>

<pre><code class="markdown">
This is on top of the line.

- - - 

This is below the line.

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <p>
        This is on top of the line.
    </p>
    
    <hr>
    
    <p>
        This is below the line.
    </p>
</div>

<h2 id="tutorial-code">
    Code
</h2>

<p>
    Code can be inserted into the page content. Starting the line
    with four spaces or a tab indicates that what follows is code. 
    For instance, the following text (note the four spaces before
    each line):
</p>


<pre><code class="markdown">
This is a "Hello, World" program for the C programming language:

    #include &lt;stdio.h&gt;

    main()
    {
        printf("Hello World");
    }
    
</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    
    <p>
        This is a "Hello, World" program for the C programming language:
    </p>
    
    <pre><code>
#include &lt;stdio.h&gt;

main()
{
    printf("Hello World");
}
    </code></pre>
</div>

<p>
    Text can be stylized as code by enclosing them inside a
    pair of <code>`</code> symbols. For example, the following:
</p>

<pre><code class="markdown">
The corgi looked at the monitor. She looked to the
monitor and saw the message `PUPPY ERROR 404`.

</code></pre>

<p>
    Would produce the following:
</p>

<div class="well">
    <p>
        The corgi looked at the monitor. She looked to the
        monitor and saw the message <code>PUPPY ERROR 404</code>.
    </p>
</div>

<h2 id="tutorial-special-characters">
    Using Special Characters
</h2>

<p>
    Some characters, such as <code>#</code> and <code>[</code> convey
    special meaning when they're at the start of a line. For instance,
    the <code>#</code> is used to identify a chapter title, while the
    <code>[</code> is used inside a link.
</p>

<p>
    Ordinarily, this would mean that these characters couldn't be used
    in the paragraphs of text of a page, because then it would be misinterpreted
    as signalling a new chapter, page, link, etc.
</p>

<p>
    However, there is a way to use these characters anyways. That's by
    escaping them with a <code>\</code> so that <code>\#</code> would then
    be used to display a number sign in the text. For example:
</p>

<pre><code class="markdown">
# South Africa

## Erinys Training Facility, Johannesburg

You see a number on the door:

\#200

This is the room. You walk in.
</code></pre>

<div class="page-header">
    <h1 id="tutorial-examples">
        Examples
    </h1>
</div>

<p>
    This tutorial is fairly wordy, and sometimes that makes it hard to 
    really get what's meant until it's paired with concrete examples. The
    following is a series of examples of story code to give you an idea
    of how this all fits together in practice.
</p>

<h2 id="tutorial-art-gallery-example">
    Art Gallery
</h2>

<p>
    This example demonstrates the use of chapters ("Art Gallery" and "Downtown"
    in the example below), and defining pages by location ("Entrance", 
    "Monet Exhibit", etc.) It also demonstrates the use of links (choices) to
    navigate between the pages.
</p>

<pre><code class="markdown">
# Art Gallery

## Entrance

You are in the art gallery entrance.

[Walk to the Monet exhibit](Monet Exhibit)
[Walk to the Picasso exhibit](Picasso Exhibit)
[Walk to the Frida exhibit](Frida Exhibit)
[Leave the art gallery](Downtown: In Front of Art Gallery)

## Monet Exhibit

You walk over to the Monet exhibit.

You see beautiful paintings of landscapes.

[Go back to the entrance](Entrance)

## Picasso Exhibit

You walk over to the Picasso exhibit.

You stroll through the paintings and watch 
Picasso's evolution into Cubism.

[Go back to the entrance](Entrance)

## Frida Exhibit

You walk over to the Frida exhibit.

You see beautiful self-portraits.

[Go back to the entrance](Entrance)

# Downtown

## In Front of Art Gallery

You are in front of the art gallery.

[Walk into the art gallery](Art Gallery)

</code></pre>


<h2 id="tutorial-baking-example">
    Baking
</h2>

<p>
    This example demonstrates the use of choices to show some paragraphs
    of text, as well as relative links ("last", "next".)
</p>

<pre><code class="markdown">
# Home

## Kitchen

You are baking doughnuts for a potluck.

The recipe calls for &frac34; cup of flour.

[measure flour: Measure the flour carefully and pour it into the bowl](next)
[wing flour: Wing it! Put as much flour as feels right](next)

## Kitchen

You continue baking the doughnuts.

The recipe calls for one egg.

[no egg: Ignore the recipe - don't put any eggs in](next)
[one egg: Put one egg in the batter](next)

## Kitchen

You're ready to bake the doughnuts!

The recipe calls for setting the oven to 350&deg;F

[350F: Set the oven to 350&deg;F.](next)
[450F: Go faster! Set the oven to 450&def;F and put in the doughnuts.](next) 

## Kitchen

You pull the doughnuts out.

### Chose "450F"

The fire alarm goes off with the smoke that bellows out of the oven.

The doughnuts look burnt.

You turn off the fire alarm and inspect the doughnuts more closely.

### Chose "no egg"

The doughnuts look powdery still. Not enough liquid in the batter.

Or maybe too much flour.

### Chose "egg"

The doughnuts are moist. This is definitively edible.

###

You bite into the doughnut.

[Try again!](Kitchen #1)

</code></pre>

